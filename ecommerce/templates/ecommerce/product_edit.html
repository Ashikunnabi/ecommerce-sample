{% extends 'ecommerce/_base.html' %}
{% load static %}

{% block content %}
  <!--Main layout-->
  <main class="mt-5 pt-4">
    <div class="container wow fadeIn">
      <!--Grid row-->
      <div class="row">

        <!--Grid column-->
        <div class="col-md-12 mb-4">

          <!--Card-->
          <div class="card">

            <!--Card content-->
            <div class="card-body" style="min-height:800px"> 
                      
              <ul class="nav nav-tabs md-tabs" id="myTabMD" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active" id="home-tab-md" data-toggle="tab" href="#home-md" role="tab" aria-controls="home-md"
                    aria-selected="true">Edit Product</a>
                </li>
                
              </ul>
              <div class="tab-content card pt-5" id="myTabContentMD">
                <div class="tab-pane fade show active" id="home-md" role="tabpanel" aria-labelledby="home-tab-md">

                <!-- Personal Information -->
                  <div id="personal-information">
                      <!--Card content-->
                      <div class="card-body px-lg-5 pt-0">
                          <!-- Form -->
                          <form action="{% url 'edit_product' product.id %}" method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="modal-content">
                              <div class="modal-body mx-3">
                                <div class="md-form mb-5">
                                  <input type="text" id="form34" value="{{product.name}}" name="name" class="form-control validate" required>
                                  <label data-error="wrong" data-success="right" for="form34">Product name</label>
                                </div>

                                <div class="md-form mb-5">
                                  <input type="number" id="form32" value="{{product.quantity}}" name="quantity" class="form-control validate" required>
                                  <label data-error="wrong" data-success="right" for="form32">Available quantity</label>
                                </div>

                                <div class="md-form mb-5">
                                  <input type="number" id="form32" value="{{product.price}}" name="price" class="form-control validate" required>
                                  <label data-error="wrong" data-success="right" for="form32">Unit price</label>
                                </div>


                                <div class="md-form mb-5">
                                  <input type="text" id="form8" value="{{product.description}}" name="description" class="md-textarea form-control" rows="4" required>
                                  <label data-error="wrong" data-success="right" for="form8">Description</label>
                                </div>
                                
                                <div class="md-form mb-5">                
                                   <select class="browser-default custom-select" name="category" required>
                                      <option value="{{product.category.id}}" selected> {{product.category}} </option>
                                      {% for category in categories %}
                                        {% if category.id == product.category.id %}                 
                                        {% else %}
                                          <option value="{{category.id}}">{{category}}</option>  
                                        {% endif %}
                                      {% endfor %}
                                    </select>
                                </div>

                                <div class="md-form">                                  
                                      <input type="file" name="image" >
                                      <a href="{% get_media_prefix %}{{product.image}}">{{product.image}}</a>
                                </div>
                                
                              </div>
                              <div class="modal-footer d-flex justify-content-center">
                                <button type="submit" class="btn btn-unique">Edit <i class="fas fa-paper-plane-o ml-1"></i></button>
                              </div>
                            </div>
                          </form>
                          <!-- Form -->
                      </div>
                  </div>
                  <!-- Material form register -->
                  
                </div>
                
              
              </div> 
            </div>

          </div>
          <!--/.Card-->

        </div>
        <!--Grid column-->


      </div>
      <!--Grid row-->

        
    </div>
  </main>
  <!--Main layout-->

{% endblock %}

